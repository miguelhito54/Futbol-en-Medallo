---
import BaseLayout from "@components/base/BaseLayout.astro";
import type { CanchasEntry } from "@/types";
import { getEntry, render } from "astro:content";
import EntryHeader from "@components/common/EntryHeader.astro";

const entry = (await getEntry("canchas", "comuna3/brasilia")) as CanchasEntry;
const { Content, headings } = await render(entry);
const { title } = entry.data;

// Custom cancha data for Comuna 4 - Campo Valdés | Brasilia | Campo Valdes Nº 1
const canchaInfo = {
  nombre: "Campo Valdés | Brasilia |",
  direccion:
    "Calle 96 #46-03, Barrio Manrique, Comuna 3 - Manrique, Medellín, Antioquia",
  reservas: "3699000",
  historia:
    "La cancha de Campo Valdés ha sido un punto de encuentro para los amantes del fútbol en la Comuna 4. En 1978, se fundó el Club Deportivo Barrio Brasilia, que ha promovido la organización comunitaria y el desarrollo deportivo en la zona. Con 19 categorías, 11 de ellas matriculadas en los torneos que organiza la Liga Antioqueña de Fútbol, el club cumple su labor social en esta cancha, beneficiando a cerca de 500 niños.",
  equipos: [
    "Club Deportivo Barrio Brasilia, reconocido por su participación activa en torneos de la Liga Antioqueña de Fútbol.",
  ],
};

const gallery = [
  {
    src: "/src/assets/canchas/comuna3/brasilia/photo1.jpg",
    alt: "Campo Valdés Photo 1",
    size: "w-full h-96 md:h-[32rem]",
  },
  {
    src: "/src/assets/canchas/comuna3/brasilia/photo2.jpg",
    alt: "Campo Valdés Photo 2",
    size: "w-1/2 h-64 md:h-96",
  },
  {
    src: "/src/assets/canchas/comuna3/brasilia/photo3.jpg",
    alt: "Campo Valdés Photo 3",
    size: "w-1/2 h-64 md:h-96",
  },
  {
    src: "/src/assets/canchas/comuna3/brasilia/photo4.jpg",
    alt: "Campo Valdés Photo 4",
    size: "w-full h-72 md:h-[28rem]",
  },
  {
    src: "/src/assets/canchas/comuna3/brasilia/photo5.jpg",
    alt: "Campo Valdés Photo 5",
    size: "w-full h-56 md:h-72",
  },
];
---

<BaseLayout
  title={title}
  image={gallery[3].src}
  description={canchaInfo.nombre}
>
  <section class="container p-4 max-w-2xl mx-auto">
    <article class="w-full flex flex-col gap-4">
      <EntryHeader entry={entry} showImage={false} />
      <div class="flex flex-col gap-4 justify-center mb-2">
        <div
          class="glass px-2 py-2 rounded-lg flex flex-col items-center justify-center relative"
        >
          <a
            href={gallery[0].src}
            target="_blank"
            rel="noopener noreferrer"
            class="contents"
          >
            <img
              src={gallery[0].src}
              alt={gallery[0].alt}
              class="rounded shadow object-cover w-full"
              style="width:100%; height:auto; aspect-ratio: 3/1; object-fit:cover; max-width:100%;"
              loading="lazy"
            />
            <div class="absolute inset-0 flex items-center justify-center bg-black/30">
              <h1 class="text-2xl md:text-3xl font-bold text-white drop-shadow-lg text-center">
                {canchaInfo.nombre}
              </h1>
            </div>
          </a>
          <div class="mt-2 text-sm text-center">
            <p>
              <strong>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="inline-block mr-1"
                  width="18"
                  height="18"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  ><path
                    stroke-width="2"
                    d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5.5z"
                  ></path></svg
                >
                 Dirección:
              </strong>
              <span style="color:#6b7280"> {canchaInfo.direccion}</span>
            </p>
            <p>
              <strong>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="inline-block mr-1"
                  width="18"
                  height="18"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  ><path
                    stroke-width="2"
                    d="M6.62 10.79a15.053 15.053 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.11-.21c1.21.49 2.53.76 3.88.76a1 1 0 0 1 1 1V20a1 1 0 0 1-1 1C10.07 21 3 13.93 3 5a1 1 0 0 1 1-1h3.5a1 1 0 0 1 1 1c0 1.35.26 2.67.76 3.88a1 1 0 0 1-.21 1.11l-2.2 2.2z"
                  ></path></svg
                >
                 Reservas:
              </strong>
              <a
                href={`tel:${canchaInfo.reservas}`}
                class="text-blue-600 font-bold underline ml-1"
              >
                {canchaInfo.reservas}
              </a>
            </p>
          </div>
        </div>
        <div
          class="glass px-2 py-2 rounded-lg flex gap-4 items-center justify-center"
        >
          <a
            href={gallery[1].src}
            target="_blank"
            rel="noopener noreferrer"
            class="contents"
          >
            <img
              src={gallery[1].src}
              alt={gallery[1].alt}
              class="object-cover w-1/2 h-64 md:h-96"
              style="max-width:50%; flex: 1 1 0;"
              loading="lazy"
            />
          </a>
          <a
            href={gallery[2].src}
            target="_blank"
            rel="noopener noreferrer"
            class="contents"
          >
            <img
              src={gallery[2].src}
              alt={gallery[2].alt}
              class="object-cover w-1/2 h-64 md:h-96"
              style="max-width:50%; flex: 1 1 0;"
              loading="lazy"
            />
          </a>
        </div>
        <section class="glass px-4 py-2 rounded-lg text-base mb-2">
          <h2 class="text-xl font-bold mb-4 text-gray-800 text-center">
            Historia
          </h2>
          <p>
            {canchaInfo.historia}
          </p>
        </section>
        <div
          class="glass px-2 py-2 rounded-lg flex items-center justify-center relative overflow-hidden"
          style="height:auto;"
        >
          <a
            href={gallery[3].src}
            target="_blank"
            rel="noopener noreferrer"
            class="contents w-full"
            style="display:block; height: 16rem; position:relative;"
          >
            <div class="relative w-full h-64 md:h-[28rem] group">
              <img
                src={gallery[3].src}
                alt={gallery[3].alt}
                class="rounded object-cover w-full h-full absolute inset-0 transition-opacity duration-500 group-hover:opacity-0"
                style="object-fit:cover; max-width:100%;"
                loading="lazy"
              />
              <img
                src={gallery[4].src}
                alt={gallery[4].alt}
                class="rounded object-cover w-full h-full absolute inset-0 opacity-0 transition-opacity duration-500 group-hover:opacity-100"
                style="object-fit:cover; max-width:100%;"
                loading="lazy"
              />
            </div>
          </a>
        </div>
        <section class="glass px-4 py-2 rounded-lg text-base mb-2 w-full">
          <h2 class="text-xl font-bold mb-4 text-gray-800 text-center">
            Equipos destacados
          </h2>
          <ul class="list-disc list-inside mb-2 w-full">
            {
              canchaInfo.equipos.map((equipo) => (
                <li class="w-full">{equipo}</li>
              ))
            }
          </ul>
        </section>
      </div>
    </article>
  </section>
</BaseLayout>
